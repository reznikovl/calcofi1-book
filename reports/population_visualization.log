Traceback (most recent call last):
  File "/home/leron/.local/lib/python3.6/site-packages/jupyter_cache/executors/utils.py", line 56, in single_nb_execution
    record_timing=False,
  File "/home/leron/.local/lib/python3.6/site-packages/nbclient/client.py", line 1112, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/home/leron/.local/lib/python3.6/site-packages/nbclient/util.py", line 74, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/home/leron/.local/lib/python3.6/site-packages/nbclient/util.py", line 53, in just_run
    return loop.run_until_complete(coro)
  File "/usr/lib/python3.6/asyncio/base_events.py", line 484, in run_until_complete
    return future.result()
  File "/home/leron/.local/lib/python3.6/site-packages/nbclient/client.py", line 554, in async_execute
    cell, index, execution_count=self.code_cells_executed + 1
  File "/home/leron/.local/lib/python3.6/site-packages/nbclient/client.py", line 857, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "/home/leron/.local/lib/python3.6/site-packages/nbclient/client.py", line 760, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
sardine_ts2 = sardine_larvae

# animated plot

# create new variable that keeps track of "year" -> used to animate the line graph
data_sardine = []
for y in sardine_ts2['Year'].unique():
    df = sardine_ts2[sardine_ts2.Year<=y].copy()
    df['year_upto'] = y
    data_sardine.append(df)
sardine_ts_animated = pd.concat(data_sardine)
#sardine_ts_animated

# convert Year column into integers
sardine_ts_animated.Year = sardine_ts_animated.Year.astype(int)

# generate line plot
fig_sardine_animated = px.line(
    sardine_ts_animated,
    x = 'Year',
    y = 'Sardine Larvae lbs',
    animation_frame = 'year_upto',
    range_x = [1967,2022],
    hover_name = 'Count',
    hover_data = {'year_upto':False,'Year':True,'Count':False},
    title = 'Sardine Abundance, By Year',
    labels = {'Count':'Sardine Abundance (thousands)','Year':'Year','year_upto':'Year'},
    template = 'plotly'
)

# configure axis ranges
fig_sardine_animated.update_xaxes(autorange=False)
fig_sardine_animated.update_yaxes(range=[0,325])

# configure window layout and display plot
fig_sardine_animated.update_layout(autosize=True)
fig_sardine_animated.show(animate=True,autorange=False)
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mValueError[0m                                Traceback (most recent call last)
[0;32m<ipython-input-3-049a3e9edb70>[0m in [0;36m<module>[0;34m[0m
[1;32m     26[0m     [0mtitle[0m [0;34m=[0m [0;34m'Sardine Abundance, By Year'[0m[0;34m,[0m[0;34m[0m[0;34m[0m[0m
[1;32m     27[0m     [0mlabels[0m [0;34m=[0m [0;34m{[0m[0;34m'Count'[0m[0;34m:[0m[0;34m'Sardine Abundance (thousands)'[0m[0;34m,[0m[0;34m'Year'[0m[0;34m:[0m[0;34m'Year'[0m[0;34m,[0m[0;34m'year_upto'[0m[0;34m:[0m[0;34m'Year'[0m[0;34m}[0m[0;34m,[0m[0;34m[0m[0;34m[0m[0m
[0;32m---> 28[0;31m     [0mtemplate[0m [0;34m=[0m [0;34m'plotly'[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m     29[0m )
[1;32m     30[0m [0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/plotly/express/_chart_types.py[0m in [0;36mline[0;34m(data_frame, x, y, line_group, color, line_dash, hover_name, hover_data, custom_data, text, facet_row, facet_col, facet_col_wrap, facet_row_spacing, facet_col_spacing, error_x, error_x_minus, error_y, error_y_minus, animation_frame, animation_group, category_orders, labels, orientation, color_discrete_sequence, color_discrete_map, line_dash_sequence, line_dash_map, log_x, log_y, range_x, range_y, line_shape, render_mode, title, template, width, height)[0m
[1;32m    250[0m     [0ma[0m [0mpolyline[0m [0mmark[0m [0;32min[0m [0;36m2[0m[0mD[0m [0mspace[0m[0;34m.[0m[0;34m[0m[0;34m[0m[0m
[1;32m    251[0m     """
[0;32m--> 252[0;31m     [0;32mreturn[0m [0mmake_figure[0m[0;34m([0m[0margs[0m[0;34m=[0m[0mlocals[0m[0;34m([0m[0;34m)[0m[0;34m,[0m [0mconstructor[0m[0;34m=[0m[0mgo[0m[0;34m.[0m[0mScatter[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m    253[0m [0;34m[0m[0m
[1;32m    254[0m [0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/plotly/express/_core.py[0m in [0;36mmake_figure[0;34m(args, constructor, trace_patch, layout_patch)[0m
[1;32m   1859[0m     [0mapply_default_cascade[0m[0;34m([0m[0margs[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[1;32m   1860[0m [0;34m[0m[0m
[0;32m-> 1861[0;31m     [0margs[0m [0;34m=[0m [0mbuild_dataframe[0m[0;34m([0m[0margs[0m[0;34m,[0m [0mconstructor[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m   1862[0m     [0;32mif[0m [0mconstructor[0m [0;32min[0m [0;34m[[0m[0mgo[0m[0;34m.[0m[0mTreemap[0m[0;34m,[0m [0mgo[0m[0;34m.[0m[0mSunburst[0m[0;34m][0m [0;32mand[0m [0margs[0m[0;34m[[0m[0;34m"path"[0m[0;34m][0m [0;32mis[0m [0;32mnot[0m [0;32mNone[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m
[1;32m   1863[0m         [0margs[0m [0;34m=[0m [0mprocess_dataframe_hierarchy[0m[0;34m([0m[0margs[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/plotly/express/_core.py[0m in [0;36mbuild_dataframe[0;34m(args, constructor)[0m
[1;32m   1376[0m [0;34m[0m[0m
[1;32m   1377[0m     df_output, wide_id_vars = process_args_into_dataframe(
[0;32m-> 1378[0;31m         [0margs[0m[0;34m,[0m [0mwide_mode[0m[0;34m,[0m [0mvar_name[0m[0;34m,[0m [0mvalue_name[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m   1379[0m     )
[1;32m   1380[0m [0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/plotly/express/_core.py[0m in [0;36mprocess_args_into_dataframe[0;34m(args, wide_mode, var_name, value_name)[0m
[1;32m   1181[0m                         [0;32mif[0m [0margument[0m [0;34m==[0m [0;34m"index"[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m
[1;32m   1182[0m                             [0merr_msg[0m [0;34m+=[0m [0;34m"\n To use the index, pass it in directly as `df.index`."[0m[0;34m[0m[0;34m[0m[0m
[0;32m-> 1183[0;31m                         [0;32mraise[0m [0mValueError[0m[0;34m([0m[0merr_msg[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m   1184[0m                 [0;32melif[0m [0mlength[0m [0;32mand[0m [0mlen[0m[0;34m([0m[0mdf_input[0m[0;34m[[0m[0margument[0m[0;34m][0m[0;34m)[0m [0;34m!=[0m [0mlength[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m
[1;32m   1185[0m                     raise ValueError(

[0;31mValueError[0m: Value of 'hover_name' is not the name of a column in 'data_frame'. Expected one of ['Year', 'Sardine Larvae lbs', 'year_upto'] but received: Count
ValueError: Value of 'hover_name' is not the name of a column in 'data_frame'. Expected one of ['Year', 'Sardine Larvae lbs', 'year_upto'] but received: Count

