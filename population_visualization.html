
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visualizing Sardine Population &#8212; CalCOFI</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/calcofi_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">CalCOFI</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Introduction
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="sardine_history.html">
   Brief History on Sardines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dataset_linking.html">
   Linking the Datasets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="new_conclusion.html">
   Conclusion
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/population_visualization.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fpopulation_visualization.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/population_visualization.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Visualizing Sardine Population
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sardine-larvae-per-year">
   Sardine Larvae Per Year
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adult-sardine-per-year">
   Adult Sardine Per Year
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="visualizing-sardine-population">
<h1>Visualizing Sardine Population<a class="headerlink" href="#visualizing-sardine-population" title="Permalink to this headline">Â¶</a></h1>
<div class="cell tag_hide_input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import required packages</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
</pre></div>
</div>
</div>
</div>
<p>The collapse of the pacific sardine population propelled the formation of The California Cooperative Oceanic Fisheries Investigations (CalCOFI) in 1949 to better understand the delicate ocean ecosystem. In their research <a class="reference external" href="http://calcofi.org/%7Ecalcofi/publications/calcofireports/v23/Vol_23_Radovich.pdf">article</a>, they hypothesize temperature to be the leading cause of the decline. Yet, results of their analysis concludes a multitude of different variables- such as a change in migration patterns and predatory behaviors. Thus the question still remains: has the sardine population recovered from the effects of this decline?</p>
<p><img alt="calcofi_cruise" src="_images/pacific_sardine_image.jpg" /></p>
<p>We can visualize the sardine population using two different methods. The first method is to track the amount of sardine larvae recorded each years. The reasoning behind this is simple: higher numbers of sardine larvae should lead to more adult sardine in the future. The second method is similar- visualize the pounds of adult sardine caught. More sardine caught in a given year may indicate that there was a higher amount of sardine present in the wild.</p>
</div>
<div class="section" id="sardine-larvae-per-year">
<h1>Sardine Larvae Per Year<a class="headerlink" href="#sardine-larvae-per-year" title="Permalink to this headline">Â¶</a></h1>
<p>The chart below visualizes the amount of sardine larvae, in thousands of pounds, recorded per year. Recall that the number of sardine larvae should be able to act as an indicator and help predict the number of adult sardine that will be caught.</p>
<div class="cell tag_hide_input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sardine_larvae</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/sardine_larvae.csv&quot;</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
    <span class="n">sardine_larvae</span><span class="p">,</span> 
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span> 
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Sardine Larvae lbs&#39;</span><span class="p">,</span> 
    <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Sardine Larvae Pounds Per Year&#39;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Sardine Larvae lbs&#39;</span><span class="p">:</span><span class="s1">&#39;Sardine Larvae (Lbs.)&#39;</span><span class="p">})</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">fc1c000f9a0c</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Sardine Larvae lbs&#39;</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Sardine Larvae Pounds Per Year&#39;</span><span class="p">,</span>
<span class="ne">----&gt; </span><span class="mi">7</span>     <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Sardine Larvae lbs&#39;</span><span class="p">:</span><span class="s1">&#39;Sardine Larvae (Lbs.)&#39;</span><span class="p">})</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nn">~/.local/lib/python3.6/site-packages/plotly/express/_chart_types.py</span> in <span class="ni">line</span><span class="nt">(data_frame, x, y, line_group, color, line_dash, hover_name, hover_data, custom_data, text, facet_row, facet_col, facet_col_wrap, facet_row_spacing, facet_col_spacing, error_x, error_x_minus, error_y, error_y_minus, animation_frame, animation_group, category_orders, labels, orientation, color_discrete_sequence, color_discrete_map, line_dash_sequence, line_dash_map, log_x, log_y, range_x, range_y, line_shape, render_mode, title, template, width, height)</span>
<span class="g g-Whitespace">    </span><span class="mi">250</span>     <span class="n">a</span> <span class="n">polyline</span> <span class="n">mark</span> <span class="ow">in</span> <span class="mi">2</span><span class="n">D</span> <span class="n">space</span><span class="o">.</span>
<span class="g g-Whitespace">    </span><span class="mi">251</span>     <span class="s2">&quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">252</span><span class="s2">     return make_figure(args=locals(), constructor=go.Scatter)</span>
<span class="g g-Whitespace">    </span><span class="mi">253</span><span class="s2"> </span>
<span class="g g-Whitespace">    </span><span class="mi">254</span><span class="s2"> </span>

<span class="nn">~/.local/lib/python3.6/site-packages/plotly/express/_core.py</span> in <span class="ni">make_figure</span><span class="nt">(args, constructor, trace_patch, layout_patch)</span>
<span class="g g-Whitespace">   </span><span class="mi">1859</span><span class="s2">     apply_default_cascade(args)</span>
<span class="g g-Whitespace">   </span><span class="mi">1860</span><span class="s2"> </span>
<span class="ne">-&gt; </span><span class="mi">1861</span><span class="s2">     args = build_dataframe(args, constructor)</span>
<span class="g g-Whitespace">   </span><span class="mi">1862</span><span class="s2">     if constructor in [go.Treemap, go.Sunburst] and args[&quot;path&quot;] is not None:</span>
<span class="g g-Whitespace">   </span><span class="mi">1863</span><span class="s2">         args = process_dataframe_hierarchy(args)</span>

<span class="nn">~/.local/lib/python3.6/site-packages/plotly/express/_core.py</span> in <span class="ni">build_dataframe</span><span class="nt">(args, constructor)</span>
<span class="g g-Whitespace">   </span><span class="mi">1376</span><span class="s2"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1377</span><span class="s2">     df_output, wide_id_vars = process_args_into_dataframe(</span>
<span class="ne">-&gt; </span><span class="mi">1378</span><span class="s2">         args, wide_mode, var_name, value_name</span>
<span class="g g-Whitespace">   </span><span class="mi">1379</span><span class="s2">     )</span>
<span class="g g-Whitespace">   </span><span class="mi">1380</span><span class="s2"> </span>

<span class="nn">~/.local/lib/python3.6/site-packages/plotly/express/_core.py</span> in <span class="ni">process_args_into_dataframe</span><span class="nt">(args, wide_mode, var_name, value_name)</span>
<span class="g g-Whitespace">   </span><span class="mi">1181</span><span class="s2">                         if argument == &quot;index&quot;:</span>
<span class="g g-Whitespace">   </span><span class="mi">1182</span><span class="s2">                             err_msg += &quot;</span><span class="se">\n</span><span class="s2"> To use the index, pass it in directly as `df.index`.&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1183</span><span class="s2">                         raise ValueError(err_msg)</span>
<span class="g g-Whitespace">   </span><span class="mi">1184</span><span class="s2">                 elif length and len(df_input[argument]) != length:</span>
<span class="g g-Whitespace">   </span><span class="mi">1185</span><span class="s2">                     raise ValueError(</span>

<span class="ne">ValueError</span>: Value of &#39;y&#39; is not the name of a column in &#39;data_frame&#39;. Expected one of [&#39;Year&#39;, &#39;Count&#39;] but received: Sardine Larvae lbs
</pre></div>
</div>
</div>
</div>
<p>The first thing to notice is that there was barely any sardine larvae recorded up until the mid 1980s. Explanations could possibly be that either the sardine larvae data wasnât being properly recorded, or whether there was literally no sardine larvae to be seen. It could also be a mix of the two problems where because the sardine population was so scarce, that in turn made the sardine larvae count to also be scarce. Also, as time progresses, technology and recodkeeping became better, so the lack of data in the past may simply be a technological error. Overall, the population seems to have been suffering up until the 1990s, and then there was a major spike right before the year 2000, and even more spikes at around 2005 and 2010. This could be explained due to better technology over time or the that the spikes in population has something to do with the environmental factors at that time, specifically the events of la nina and el nino as mention in the research article.</p>
</div>
<div class="section" id="adult-sardine-per-year">
<h1>Adult Sardine Per Year<a class="headerlink" href="#adult-sardine-per-year" title="Permalink to this headline">Â¶</a></h1>
<p>The chart below visualizes the number of adult sardine, in thousands of pounds, caught per year.</p>
<div class="cell tag_hide_input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landing_sardine</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/landing_sardine.csv&quot;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
    <span class="n">landing_sardine</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;CatchLbs&#39;</span><span class="p">,</span>
    <span class="n">title</span> <span class="o">=</span>  <span class="s2">&quot;Sardine Catch Lbs Per Year&quot;</span><span class="p">,</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;CatchLbs&#39;</span><span class="p">:</span><span class="s1">&#39;Amount Caught (Lbs.)&#39;</span><span class="p">})</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>The first observation we can make is that there was a rise sardine caught in the mid 1990s, which is around the same time that the recorded sardine lavae was beginning to increase. The original larvae visualization showed a spike in larvae count for certain years, which donât seem to correlate at the same time as the catch data. However, based on the two visualization weâve seen before, we can infer that the pacific sardine population is slowly getting better since the mid 1990s. One reason to explain the mismatching spikes for both visualization could be a better understanding of our oceanâs ecosystem and the concious of overfishing. Thus, just because there is more fish in the ocean doesnât mean that catching all of it is the right thing.</p>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Leron Reznikov, Andie Rupprecht, Gavin Tieng, Meng Vong<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>